<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >

<sqlMap namespace="room_space">
	<typeAlias  alias="egovMap"  type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
	<typeAlias  alias="roomVO"    type="ghp.service.RoomVO"/>

	<select id="roomDAO.selectRoomNameList" resultClass="egovMap">
		select 
			rm_name
		from
		room_list
		group by rm_name
	</select>


	<select id="roomDAO.selectRoomList" resultClass="egovMap" >
		select 
			rm_room 
		from 
			room_list 
		where 			
			rm_name=#rm_name#

		order by rm_room asc
 
	</select>
	<select id="roomDAO.selectRoomPriceList" resultClass="egovMap">
		select 
			min(rm_price) as min_price,
			 max(rm_price) as max_price
		from 
			room_list 
		where 
			rm_name=#rm_name#
	</select>
	
	<select id="roomDAO.selectRoomEtcList" resultClass="egovMap">
		select 
			rm_img, rm_loc, rm_phone
		from 
			room_list 
		where 
			rm_name=#rm_name#
			and rownum=1
	</select>
	
	
	<select id="roomDAO.selectRoomDetailList" resultClass="egovMap">
		select 
			rm_name, rm_img, rm_loc, rm_phone,rm_comment
		from 
			room_list 
		where 
			rm_name=#rm_name#
		and rownum=1
	</select>
		
	<select id="roomDAO.selectRoomRPPList" resultClass="egovMap">
		select 
			rm_room, rm_person, rm_price
		from 
			room_list 
		where 			
			rm_name=#rm_name#

		order by rm_room asc
	</select>


	<insert id="roomDAO.insertRoomList">
		INSERT INTO room_list(
			rm_seq,
			rm_name,
			rm_img,
			rm_loc,
			rm_room,
			rm_person,
			rm_price,
			rm_comment,
			rm_phone
				) VALUES (
			ROOM_LIST_SEQ.nextval,
			#rm_name#,
			#rm_img#,
			#rm_loc#,
			#rm_room#,
			#rm_person#,
			#rm_price#,
			#rm_comment#,
			#rm_phone#
		)
	</insert>
	
	<!-- 
		ibatis 변수 사용 법
		# -> 로그 콘솔출력할때 ? 로 출력 			#변수명#
		$ -> 로그 콘솔출력할때 내부 데이터 그대로 출력	'$변수명$'
	 -->
	
	
	
	
</sqlMap>